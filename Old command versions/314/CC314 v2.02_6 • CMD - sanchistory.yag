{{$args := parseArgs 1 "`-sanchistory ‚Äπ@UserOrID‚Ä∫`" (carg "userid" "sancUsr")}}

{{$sancUsr := ($args.Get 0)}}
{{$sancNic := (getMember $sancUsr).Nick}}
{{$lnColor := 0xAA0000}}

{{if ne $sancNic ""}}
  {{$sancNic = (print " ¬∑ " (getMember $sancUsr).Nick)}}
{{end}}

{{$GoulagCount := 0}}
{{$dbGoulagCT := dbGet $sancUsr "GoulagCount"}}
{{if $dbGoulagCT}}
  {{$GoulagCount = (index $dbGoulagCT.Value 0)}}
{{end}}

{{$KickCount := 0}}
{{$dbKickCT := dbGet $sancUsr "KickCount"}}
{{if $dbKickCT}}
  {{$KickCount = (index $dbKickCT.Value 0)}}
{{end}}

{{$BanCount := 0}}
{{$dbBanCT := dbGet $sancUsr "BanCount"}}
{{if $dbBanCT}}
  {{$BanCount = (index $dbBanCT.Value 0)}}
{{end}}

{{$lastSanc := print "*" (getMember $sancUsr).User.Username " n'a jamais fait l'objet d'une sanction par le pass√© ou cette derni√®re n'est pas r√©f√©renc√©e dans la base de donn√©es.*"}}
{{$dbLastSanc := dbGet $sancUsr "LastSanc"}}
{{if $dbLastSanc}}
  {{$lastSanc = (index $dbLastSanc.Value 0)}}
{{end}}

{{$embed := cembed "color" $lnColor
  "fields" (cslice
    (sdict "name" "üë§ Membre" "value" (print "> " (getMember $sancUsr).User.Mention) "inline" false)
    (sdict "name" " " "value" (print ">>> *(" (getMember $sancUsr).User.String "" $sancNic ")*\n*ID : `" $sancUsr "`*") "inline" false)
      (sdict "name" " " "value" " " "inline" false)
    (sdict "name" "üìú Historique" "value" " " "inline" false)
    (sdict "name" "‚õèÔ∏è Nombre de Goulags" "value" (print "> " $GoulagCount) "inline" true)
    (sdict "name" "üî® Nombre de Bans" "value" (print "> " $BanCount) "inline" true)
    (sdict "name" "üö™ Nombre de Kicks" "value" (print "> " $KickCount) "inline" true)
    (sdict "name" "‚õî Derni√®re sanction" "value" (print "> " $lastSanc) "inline" false)
      (sdict "name" " " "value" " " "inline" false)
  ) "footer" (sdict "text" (print "Commande invoqu√©e par " .User.String) "icon_url" "https://cdn.discordapp.com/emojis/1080310621607829564.webp?quality=lossless") "timestamp" currentTime}} {{sendMessage nil $embed}}